<%= content_for(:title) do %><%= @todo_list.title %> | <% end %>

<!-- TITLE AND FUNCTIONALITY BUTTONS -->

<div class="row collapse todo-list-title">
	<div class="small-11 columns">
		<h2 class="page-title truncate"><%= @todo_list.title %></h2>
	</div>
	<div class="small-1 columns">
		<span class="fa fa-caret-down">
	</div>
</div>

<!-- toggle hide class -->
<div class="row hide" id="todo-list-functions">
	<div class="small-4 columns">
		<%= link_to edit_todo_list_path(@todo_list), class: "button expand radius outline" do %>
			<span class="fa fa-edit"></span>
			Edit
		<% end %>
	</div>
	<div class="small-4 columns">
		<%= link_to edit_todo_list_path(@todo_list), class: "button expand radius outline", data: { "reveal-id" => "email-modal" } do %>
			<span class="fa fa-envelope-o"></span>
			Email
		<% end %>
	</div>
	<div class="small-4 columns">
		<%= link_to edit_todo_list_path(@todo_list), class: "button expand radius outline alert", method: :delete, data: { confirm: "Are you sure you want to delete this list? There is no undo."} do %>
			<span class="fa fa-trash-o"></span>
			Delete
		<% end %>
	</div>
</div>


<!-- TODO ITEMS LISTING, MAIN CONTENT -->

<% if @todo_list.todo_items.size > 0 %>

	<ul class="list todo-items no-bullet">
	<% @todo_list.todo_items.each do |todo_item| %>

		<li id="<%= dom_id(todo_item) %>" class="todo-item row">
			<div class="small-2 medium-1 columns checkmark">
				<% if todo_item.completed? %>
					<%= link_to "Mark Incomplete", complete_todo_list_todo_item_path(todo_item), method: :patch, class: "icon-check checked hide-text", title: "Mark Incomplete" %>
				<% else %>
					<%= link_to "Mark Complete", complete_todo_list_todo_item_path(todo_item), method: :patch, class: "icon-check unchecked hide-text", title: "Mark Complete" %>
				<% end %>
			</div>

			<div class="small-10 medium-11 columns truncate todo-content <%= "completed" if todo_item.completed? %>" title="Edit">
				<%= link_to todo_item.content, edit_todo_list_todo_item_path(todo_item) %>
			</div>
		</li>
	<% end %>
	</ul>

<% else %>

<!-- BLANK SLATE WHEN ITEMS ARE EMPTY -->
	<div class="row blank-slate">
    <div class="small-12 small-centered columns">
      <p>You don't have any todo items!</p>
      <%= link_to "Add items", new_todo_list_todo_item_path(@todo_list), class: "button radius" %>
    </div>
  </div>
<% end %>


<!-- MODAL FOR EMAIL ADDRESS DESTINATION -->
<div id="email-modal" class="reveal-modal tiny" data-reveal>
	<a class="close-reveal-modal">&#215;</a>
	<%= form_tag email_todo_list_path(@todo_list), method: :put do %>
		<%= label_tag :to, "What email address would you like to send this to?" %>
		<%= text_field_tag :to %>
		<br>
		<%= submit_tag "Send List", class: "button radius medium expand submit" %>
	<% end %>
</div>








